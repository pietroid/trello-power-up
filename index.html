<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
</head>

<body>
  <script src="https://p.trellocdn.com/power-up.min.js"></script>
  <script>
    TrelloPowerUp.initialize({
      'card-buttons': function (t, options) {
        return [
          {
            icon: "https://i.ibb.co/6sbknH0/logo-stroke-32pt-style-2-no-stroke.png",
            text: "Hello World!",
            callback: function (t) {
              return t.card('id', 'name').then(card => alert(`Hello from ${card.name} (id: ${card.id})!`))
            }
          }
        ]
      },
      'board-buttons': function (t, options) {
        return [
          { 
            icon: "https://i.ibb.co/6sbknH0/logo-stroke-32pt-style-2-no-stroke.png",
            text: "Hello World!",
            callback: function (t) {
              return t.board().then(board => alert(`Hello world!`))
            }
          }
        ]
      },
      'card-badges': function (t,options){
        return
          t.card('id').get('id').then(function (cardId) {
            console.log(cardId);
            //const date = new Date(1000*parseInt(card.id.substring(0,8),16));
            return [
              {
                text: `HEYYY`,
                color: "green",
              }
            ]
          })
      }
    })
  </script>
</body>
</html>